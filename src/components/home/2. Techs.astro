---
import { languages } from '@i18n/ui';
import { getLangFromUrl, useTranslations } from '@i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---
<section class="bg-techs bg-polygon relative">
  <div class="techs-main-box main-width relative z-10">
    <h2 class="text-white text-center mb-5">
      {t('home.tech')}
    </h2>
    <div role="list" class="flex flex-wrap justify-evenly items-center">

      <div class="techs-group m-2 sm:m-3">
        <img src="/tech/javascript.png" alt="Javascript logo" title="Javascript" />
        <img src="/tech/typescript.svg" alt="TypeScript logo" title="TypeScript" />
        <img src="/tech/angular.png" alt="Angular logo" title="Angular" />
        <img src="/tech/react.png" alt="React logo" title="React" />
      </div>

      <div class="techs-group m-2 sm:m-3">
        <img src="/tech/php.png" alt="PHP logo" title="PHP" />
        <img src="/tech/nodejs.png" alt="NodeJS logo" title="NodeJS" />
        <img src="/tech/rust.svg" alt="Rust logo" title="Rust" />
        <img src="/tech/solidity.png" alt="Solidity logo" title="Solidity" />
      </div>

      <div class="techs-group m-2 sm:m-3">
        <img src="/tech/solana.svg" alt="Solana logo" title="Solana Blockchain" />
        <img src="/tech/ethereum.svg" alt="Ethereum logo" title="Ethereum Blockchain" />
      </div>

      <div class="techs-group m-2 sm:m-3">
        <img src="/tech/mongodb.png" alt="MongoDB logo" title="MongoDB" />
        <img src="/tech/mysql.png" alt="MySQL logo" title="MySQL" />
        <img src="/tech/elastic.png" alt="Elasticsearch logo" title="Elasticsearch" />
      </div>

      <div class="techs-group m-2 sm:m-3">
        <img src="/tech/docker.png" alt="Docker logo" title="Docker" />
        <img src="/tech/nginx.png" alt="NGINX logo" title="NGINX" />
      </div>

    </div>
    <div class="flex justify-center mt-5">
      <div class="btn-know-box" style="max-width: max-content;">
        <a href={`/${lang}/work-experience`} title={t('home.tech.btn')} class="btn-know text-white font-bold py-2 px-4">
          <span class="text-lg font-medium">{t('home.tech.btn')}</span>
        </a>
      </div>
    </div>
  </div>
</section>

<style lang="scss">
.bg-techs {
  background: var(--primary);

  h2 {
    -webkit-text-fill-color: white;
  }
}
.techs-main-box {
  h2 {
    line-height: 35px;
  }
  .techs-group {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    min-height: 100px;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);

    img {
      max-height: 70px;
      max-width: 70px;
      box-shadow: none;
      margin: 10px;
      transform: scale(1);
      transition: .5s;
      z-index: 1;
    }
    img:hover {
      transform: scale(1.1);
      transition: .5s;
    }
  }
  .techs-group:before, .techs-group:after {
    content: "";
    position: absolute;
    background: rgba(255, 255, 255, 0.25);
    width: 100%;
    height: 115px;
    left: 0;
    overflow: hidden;
    backface-visibility: visible;
  }
  .techs-group:before {
    clip-path: polygon(0 25%, 100% 0, 100% 25%, 100% 100%, 0 100%);
    top: -20px;
  }
  .techs-group:after {
    clip-path: polygon(0 25%, 100% 0, 100% 25%, 100% 100%, 0 100%);
    top: -20px;
  }
  @media (max-width: 600px) {
    .techs-group {
      min-height: 80px;

      img {
        max-height: 60px;
        max-width: 60px;
        margin: 7px;
      }
    }
    .techs-group:before, .techs-group:after {
      height: 97px;
    }
  }
  .btn-know-box {
    .btn-know {
      display: inline-block;
      background-color: var(--alternative);
      height: 55px;
      clip-path: polygon(0 0,100% 0,100% 75%,0% 100%,0 75%);
      transition: .3s;
    }
    .btn-know:hover, .btn-know:focus {
      clip-path: polygon(0% 0%,100% 0%,100% 100%,0% 75%,0 75%);
      transition: .3s;
    }
  }
  .btn-know-box:hover, .btn-know-box:focus {
    filter: drop-shadow(0px 3px 2px var(--black));
  }
}
</style>
