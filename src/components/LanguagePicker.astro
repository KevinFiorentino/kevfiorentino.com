---
import { languages } from '@i18n/ui';

const currentUrl = Astro.url.pathname;
const currentLang = currentUrl.split('/')[1];
const urlWithoutLang = currentUrl.slice(4);   // Remove /{lang}/
---

<div id="language-picker" class="bg-white dark:bg-gray-500">
  <ul>
    {Object.entries(languages).map(([lang, label]) => (
      <li class={`hover:bg-gray-300 ${currentLang == lang ? 'active' : ''}`}>
        <a href={`/${lang}/${urlWithoutLang}`} class={`grid justify-center items-center capitalize`} title={`Change language to ${label}`}>
          {lang}
        </a>
      </li>
    ))}
  </ul>
</div>


<style>
#language-picker {
  position: fixed;
  top: calc(50% - 100px);
  right: 5px;
  box-shadow: 0px 3px 6px #00000029;
}
#language-picker ul {

}
#language-picker li a {
  font-size: 20px;
  width: 50px;
  height: 50px;
  padding-bottom: 3px;
}
.active {
  outline: 2px solid black;
}
</style>
